@isTest(seeAllData = true)
public class MockupFactory {

    public static void generate() {
        Id consumerRecordTypeForAcc = [SELECT Id FROM RecordType WHERE SobjectType = 'Account' AND DeveloperName = 'Consumer' LIMIT 1].Id;
        Id billingRecordTypeForAcc = [SELECT Id FROM RecordType WHERE SobjectType = 'Account' AND DeveloperName = 'Billing' LIMIT 1].Id;

        Account acc = new Account(RecordTypeId = consumerRecordTypeForAcc, Name = 'Sample Account', AccountNumber = '1234', DocumentType__c = 'DNI', DocumentNumber__c = '12345678', vlocity_cmt__Active__c = 'Yes', vlocity_cmt__Status__c = 'Active');
        insert acc;

        vlocity_cmt__PaymentMethod__c paymentMethod = new vlocity_cmt__PaymentMethod__c(vlocity_cmt__AccountId__c = acc.Id, vlocity_cmt__MethodType__c = '2001', BankEntityName__c = '407', vlocity_cmt__CardType__c = '377');
        insert paymentMethod;

        Account accNoContact = new Account(RecordTypeId = consumerRecordTypeForAcc, Name = 'Sample Account NoContacts', AccountNumber = '991234', DocumentType__c = 'DNI', DocumentNumber__c = '09345678');
        insert accNoContact;

        Asset ass = new Asset(Name = 'asset1', MSISDN__c = '1234567890', AccountId = acc.Id);
        insert ass;

        Contact contact = new Contact(FirstName = 'Contact First Name', LastName = 'Contact LastName', DocumentType__c = 'DNI', DocumentNumber__c = '12345678', Email = 'test@yopmail.com', AccountId = acc.id);
        insert contact;

        Contact contactNoAccount = new Contact(FirstName = 'Contact NoAccount First Name', LastName = 'Contact NoAccount LastName', DocumentType__c = 'DNI', DocumentNumber__c = '12345699', Email = 'testNoAccount@yopmail.com');
        insert contactNoAccount;

        acc.vlocity_cmt__PrimaryContactId__c = contact.Id;
        update acc;

        Account billingAcc = new Account(RecordTypeId = billingRecordTypeForAcc, Name = 'Sample Billing Account', ParentId = acc.Id, AccountNumber = '5678', DocumentType__c = 'DNI', DocumentNumber__c = '12345678');
        insert billingAcc;

        Asset ass2 = new Asset(Name = 'asset2', MSISDN__c = '1234567890', AccountId = billingAcc.Id);
        insert ass2;

        List<Product2> productsList = new List<Product2>();
        productsList.add(new Product2(Name = 'Sample Product 1', Family = 'prepaid', vlocity_cmt__Type__c = 'Simcard'));
        productsList.add(new Product2(Name = 'Sample Product 2', Family = 'prepaid', vlocity_cmt__Type__c = 'Simcard'));
        productsList.add(new Product2(Name = 'Mate 9 Lite Messi - Dorado', Family = 'Movil', vlocity_cmt__Type__c = 'Dispositivo'));
        productsList.add(new Product2(Name = 'Plan con tarjeta', Family = 'Movil', vlocity_cmt__Type__c = 'Plan Prepago'));
        insert productsList;

        vlocity_cmt__VlocityAttachment__c formsUrls = new vlocity_cmt__VlocityAttachment__c(vlocity_cmt__ObjectId__c = productsList.get(3).Id, vlocity_cmt__UrlLong__c = 'http://www.teco.com/terminosycondiciones.pdf');
        insert formsUrls;
        
        Id pricebookId = Test.getStandardPricebookId();
        PricebookEntry standardPrice1 = new PricebookEntry(Pricebook2Id = pricebookId, Product2Id = productsList.get(0).Id, UnitPrice = 100, IsActive = true);
        insert standardPrice1;
        PricebookEntry standardPrice2 = new PricebookEntry(Pricebook2Id = pricebookId, Product2Id = productsList.get(1).Id, UnitPrice = 10, IsActive = true);
        insert standardPrice2;
        PricebookEntry standardPrice3 = new PricebookEntry(Pricebook2Id = pricebookId, Product2Id = productsList.get(2).Id, UnitPrice = 10, IsActive = true);
        insert standardPrice3;
        PricebookEntry standardPrice4 = new PricebookEntry(Pricebook2Id = pricebookId, Product2Id = productsList.get(3).Id, UnitPrice = 10, IsActive = true);
        insert standardPrice4;
        
        //Insert priceList
        vlocity_cmt__PriceList__c priceList = new vlocity_cmt__PriceList__c(vlocity_cmt__Code__c = 'Codigo', Name='Telecom Price List');
        insert priceList;
        
        Order order = new Order(AccountId = acc.Id, Status = 'Draft', Gestion__c = 'Venta', Operation_Code__c = 'VTNLCE', EffectiveDate = Date.today(), Pricebook2Id = pricebookId,vlocity_cmt__OriginatingChannel__c ='Agentes',Delivery_Method__c ='Presencial', Received224_Date__c = Date.Today());
        insert order;

        vlocity_cmt__OrderAppliedPromotion__c promotion = new vlocity_cmt__OrderAppliedPromotion__c(vlocity_cmt__OrderId__c = order.Id, Name = 'Promo1');
        insert promotion;

        vlocity_cmt__PaymentAdjustment__c paymentAdjust = new vlocity_cmt__PaymentAdjustment__c(vlocity_cmt__AccountId__c = acc.Id, Order__c = order.Id, vlocity_cmt__Amount__c = 2000, vlocity_cmt__TotalInstallments__c = 3);
        insert paymentAdjust;
        
        List<OrderItem> ordItemList = new List<OrderItem>();
        ordItemList.add(new OrderItem(OrderId = order.Id, Product2Id = productsList.get(0).Id, Quantity = 10, PricebookEntryId = standardPrice1.Id, UnitPrice = 100));
        ordItemList.add(new OrderItem(OrderId = order.Id, Product2Id = productsList.get(1).Id, Quantity = 5, PricebookEntryId = standardPrice2.Id, UnitPrice = 10));
        ordItemList.add(new OrderItem(OrderId = order.Id, Product2Id = productsList.get(2).Id, Quantity = 5, PricebookEntryId = standardPrice3.Id, UnitPrice = 10));
        ordItemList.add(new OrderItem(OrderId = order.Id, Product2Id = productsList.get(3).Id, Quantity = 5, PricebookEntryId = standardPrice4.Id, UnitPrice = 10));
        insert ordItemList;

        Location__c loc = new Location__c(Name = 'test1', DepartmentCode__c = 'Cod', LocationCode__c = 'Test1', StateCode__c ='B', Status__c = true);
        insert loc;
    }

    public static void generatePlanPrepago() {
        Account acc = [SELECT Id FROM Account WHERE RecordType.DeveloperName = 'Consumer' LIMIT 1];

        Product2 planPrepagoRootProduct = new Product2(Name = 'Plan Prepago Root Product', vlocity_cmt__Type__c = 'Plan Prepago');
        insert planPrepagoRootProduct;
        Product2 planPrepagoFirstChildProduct = new Product2(Name = 'Plan Prepago First Child Product');
        insert planPrepagoFirstChildProduct;
        Product2 planPrepagoSecondChildProduct = new Product2(Name = 'Plan Prepago Second Child Product');
        insert planPrepagoSecondChildProduct;
        Product2 planPrepagoThirdChildProduct = new Product2(Name = 'Plan Prepago Third Child Product');
        insert planPrepagoThirdChildProduct;

        vlocity_cmt__ProductChildItem__c rootProdToFirstChildRelationship = new vlocity_cmt__ProductChildItem__c(vlocity_cmt__ParentProductId__c = planPrepagoRootProduct.Id, vlocity_cmt__ChildProductId__c = planPrepagoFirstChildProduct.Id, vlocity_cmt__ChildLineNumber__c = '1', vlocity_cmt__Quantity__c = 1);
        insert rootProdToFirstChildRelationship;
        vlocity_cmt__ProductChildItem__c firstChildProdToSecondChildRelationship = new vlocity_cmt__ProductChildItem__c(vlocity_cmt__ParentProductId__c = planPrepagoFirstChildProduct.Id, vlocity_cmt__ChildProductId__c = planPrepagoSecondChildProduct.Id, vlocity_cmt__ChildLineNumber__c = '2', vlocity_cmt__Quantity__c = 1);
        insert firstChildProdToSecondChildRelationship;
        vlocity_cmt__ProductChildItem__c secondChildProdToThirdChildRelationship = new vlocity_cmt__ProductChildItem__c(vlocity_cmt__ParentProductId__c = planPrepagoSecondChildProduct.Id, vlocity_cmt__ChildProductId__c = planPrepagoThirdChildProduct.Id, vlocity_cmt__ChildLineNumber__c = '3', vlocity_cmt__Quantity__c = 1);
        insert secondChildProdToThirdChildRelationship;

        Id pricebookId = Test.getStandardPricebookId();
        PricebookEntry standardPrice1 = new PricebookEntry(Pricebook2Id = pricebookId, Product2Id = planPrepagoRootProduct.Id, UnitPrice = 10, IsActive = true);
        insert standardPrice1;
        PricebookEntry standardPrice2 = new PricebookEntry(Pricebook2Id = pricebookId, Product2Id = planPrepagoFirstChildProduct.Id, UnitPrice = 10, IsActive = true);
        insert standardPrice2;
        PricebookEntry standardPrice3 = new PricebookEntry(Pricebook2Id = pricebookId, Product2Id = planPrepagoSecondChildProduct.Id, UnitPrice = 10, IsActive = true);
        insert standardPrice3;
        PricebookEntry standardPrice4 = new PricebookEntry(Pricebook2Id = pricebookId, Product2Id = planPrepagoThirdChildProduct.Id, UnitPrice = 10, IsActive = true);
        insert standardPrice4;
        
        Order order = new Order(AccountId = acc.Id, Status = 'Draft', EffectiveDate = Date.today(), Pricebook2Id = pricebookId,vlocity_cmt__OriginatingChannel__c ='Call Center',Delivery_Method__c ='Store Pick Up');
        //Order order = new Order(AccountId = acc.Id, Status = 'Draft', EffectiveDate = Date.today(), Pricebook2Id = pricebookId );
        insert order;

        List<OrderItem> ordItemList = new List<OrderItem>();
        ordItemList.add(new OrderItem(OrderId = order.Id, Product2Id = planPrepagoRootProduct.Id, Quantity = 10, PricebookEntryId = standardPrice1.Id, UnitPrice = 100));
        ordItemList.add(new OrderItem(OrderId = order.Id, Product2Id = planPrepagoFirstChildProduct.Id, Quantity = 5, PricebookEntryId = standardPrice2.Id, UnitPrice = 10));
        ordItemList.add(new OrderItem(OrderId = order.Id, Product2Id = planPrepagoSecondChildProduct.Id, Quantity = 5, PricebookEntryId = standardPrice3.Id, UnitPrice = 10));
        ordItemList.add(new OrderItem(OrderId = order.Id, Product2Id = planPrepagoThirdChildProduct.Id, Quantity = 5, PricebookEntryId = standardPrice4.Id, UnitPrice = 10));
        insert ordItemList;
    }

    public static Map<String,Object> getCardsProductsTest()
    {
        String jsonTest = '{"records":[{"messages":[],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000vNk5QAE"},"Product2Id":"01t6C0000004dDwQAI","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"BAM Pack 1Gb x 30 dias"},"UnitPrice":{"label":"List Price","value":"*"},"ProductCode":{"label":"Product Code","value":"FAN_PRDA_00097"},"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":0},"orderActive":true,"CurrencyCode":"ARS","productId":"01t6C0000004dDwQAI","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000Hx2nUAC","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000Hx2nUAC"},"Id":"a2T6C000000Hx2nUAC","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C0000004dDwQAI","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C0000004dDwQAI"},"Id":"01t6C0000004dDwQAI","Name":"BAM Pack 1Gb x 30 dias"}},"productHierarchyPath":"01t6C0000004dDwQAI","name":"BAM Pack 1Gb x 30 dias","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Qualified","productCategories":{"totalSize":0,"messages":[]}},{"messages":[],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000xQQcQAM"},"Product2Id":"01t6C000000a3GfQAI","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"BAM Pack 10GB x 30 dias"},"UnitPrice":{"label":"List Price","value":"219.00"},"ProductCode":{"label":"Product Code","value":"FAN_PRDA_00015"},"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":0},"orderActive":true,"CurrencyCode":"ARS","productId":"01t6C000000a3GfQAI","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000E1krUAC","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000E1krUAC"},"Id":"a2T6C000000E1krUAC","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C000000a3GfQAI","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C000000a3GfQAI"},"Id":"01t6C000000a3GfQAI","Name":"BAM Pack 10GB x 30 dias"}},"productHierarchyPath":"01t6C000000a3GfQAI","name":"BAM Pack 10GB x 30 dias","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Qualified","productCategories":{"totalSize":0,"messages":[]}},{"messages":[],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000vNkZQAU"},"Product2Id":"01t6C0000004dEGQAY","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"BAM Pack 3Gb x 30 dias"},"UnitPrice":{"label":"List Price","value":"*"},"ProductCode":{"label":"Product Code","value":"FAN_PRDA_00098"},"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":0},"orderActive":true,"CurrencyCode":"ARS","productId":"01t6C0000004dEGQAY","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000Hx2sUAC","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000Hx2sUAC"},"Id":"a2T6C000000Hx2sUAC","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C0000004dEGQAY","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C0000004dEGQAY"},"Id":"01t6C0000004dEGQAY","Name":"BAM Pack 3Gb x 30 dias"}},"productHierarchyPath":"01t6C0000004dEGQAY","name":"BAM Pack 3Gb x 30 dias","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Qualified","productCategories":{"totalSize":0,"messages":[]}},{"messages":[],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000xQQlQAM"},"Product2Id":"01t6C000000a3GzQAI","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"BAM Pack 512MB x 30 dias"},"UnitPrice":{"label":"List Price","value":"75.00"},"ProductCode":{"label":"Product Code","value":"FAN_PRDA_00014"},"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":0},"orderActive":true,"CurrencyCode":"ARS","productId":"01t6C000000a3GzQAI","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000E1lTUAS","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000E1lTUAS"},"Id":"a2T6C000000E1lTUAS","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C000000a3GzQAI","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C000000a3GzQAI"},"Id":"01t6C000000a3GzQAI","Name":"BAM Pack 512MB x 30 dias"}},"productHierarchyPath":"01t6C000000a3GzQAI","name":"BAM Pack 512MB x 30 dias","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Qualified","productCategories":{"totalSize":0,"messages":[]}},{"messages":[],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000xQQWQA2"},"Product2Id":"01t6C000000a3HiQAI","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"Black Conexion Total Libre 2XL"},"UnitPrice":{"label":"List Price","value":"0.00"},"ProductCode":{"label":"Product Code","value":"FAN_PMAS6"},"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":721},"orderActive":true,"CurrencyCode":"ARS","productId":"01t6C000000a3HiQAI","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000E1n9UAC","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000E1n9UAC"},"Id":"a2T6C000000E1n9UAC","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C000000a3HiQAI","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C000000a3HiQAI"},"Id":"01t6C000000a3HiQAI","Name":"Black Conexion Total Libre 2XL"}},"productHierarchyPath":"01t6C000000a3HiQAI","name":"Black Conexion Total Libre 2XL","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Qualified","productCategories":{"totalSize":0,"messages":[]}},{"messages":[],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000xYbIQAU"},"Product2Id":"01t6C000000aDzwQAE","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"Black Conexion Total Libre 2XL Empleados"},"UnitPrice":{"label":"List Price","value":"0.00"},"ProductCode":{"label":"Product Code","value":"DEMO_EMPLEADOS"},"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":"TEST"},"orderActive":true,"CurrencyCode":"ARS","productId":"01t6C000000aDzwQAE","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000EFoiUAG","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000EFoiUAG"},"Id":"a2T6C000000EFoiUAG","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C000000aDzwQAE","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C000000aDzwQAE"},"Id":"01t6C000000aDzwQAE","Name":"Black Conexion Total Libre 2XL Empleados"}},"productHierarchyPath":"01t6C000000aDzwQAE","name":"Black Conexion Total Libre 2XL Empleados","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Qualified","productCategories":{"totalSize":0,"messages":[]}},{"messages":[{"code":"208","severity":"ERROR","message":"La cuenta debe ser Gold"}],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000xQQZQA2"},"Product2Id":"01t6C000000a3HjQAI","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"Black Conexion Total Libre 4XL"},"UnitPrice":{"label":"List Price","value":"0.00"},"ProductCode":{"label":"Product Code","value":"FAN_PMAS7"},"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":976},"orderActive":true,"CurrencyCode":"ARS","productId":"01t6C000000a3HjQAI","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000E1nFUAS","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000E1nFUAS"},"Id":"a2T6C000000E1nFUAS","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C000000a3HjQAI","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C000000a3HjQAI"},"Id":"01t6C000000a3HjQAI","Name":"Black Conexion Total Libre 4XL"}},"productHierarchyPath":"01t6C000000a3HjQAI","name":"Black Conexion Total Libre 4XL","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Disqualified","failType":"Hard Fail","productCategories":{"totalSize":0,"messages":[]}},{"messages":[],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000xc2OQAQ"},"Product2Id":"01t6C000000aLHgQAM","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"Black Conexion Total Libre 4XL"},"UnitPrice":{"label":"List Price","value":"0.00"},"ProductCode":{"label":"Product Code","value":"FAN_PTIB5"},"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":"958,72"},"orderActive":true,"CurrencyCode":"ARS","productId":"01t6C000000aLHgQAM","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000EO3EUAW","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000EO3EUAW"},"Id":"a2T6C000000EO3EUAW","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C000000aLHgQAM","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C000000aLHgQAM"},"Id":"01t6C000000aLHgQAM","Name":"Black Conexion Total Libre 4XL"}},"productHierarchyPath":"01t6C000000aLHgQAM","name":"Black Conexion Total Libre 4XL","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Qualified","productCategories":{"totalSize":0,"messages":[]}},{"messages":[],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000xK2nQAE"},"Product2Id":"01t6C000000ZuYBQA0","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"Cambio de Billing Groups"},"UnitPrice":{"label":"List Price","value":"Precio Estándar de Transacciones de Cambios Administrativos"},"ProductCode":{"label":"Product Code","value":"FAN_PSERV_00005"},"orderActive":true,"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":0},"CurrencyCode":"ARS","productId":"01t6C000000ZuYBQA0","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000EP4pUAG","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000EP4pUAG"},"Id":"a2T6C000000EP4pUAG","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C000000ZuYBQA0","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C000000ZuYBQA0"},"Id":"01t6C000000ZuYBQA0","Name":"Cambio de Billing Groups"}},"productHierarchyPath":"01t6C000000ZuYBQA0","name":"Cambio de Billing Groups","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Qualified","productCategories":{"totalSize":0,"messages":[]}},{"messages":[],"displaySequence":-1,"Id":{"label":"Price Book Entry ID","value":"01u6C000000xQU8QAM"},"Product2Id":"01t6C000000Zu7jQAC","IsActive":{"label":"Active","value":true},"Name":{"label":"Product Name","value":"Cambio de Ciclo de Facturación"},"UnitPrice":{"label":"List Price","value":"Precio Estándar de Transacciones de Cambios Administrativos"},"ProductCode":{"label":"Product Code","value":"FAN_PSERV_00004"},"vlocity_cmt__RecurringPrice__c":{"label":"Recurring Price","value":0},"orderActive":true,"CurrencyCode":"ARS","productId":"01t6C000000Zu7jQAC","defaultQuantity":1,"minQuantity":0,"maxQuantity":99999,"groupMinQuantity":0,"groupMaxQuantity":99999,"sequenceNumber":1,"productChildItemId":"a2T6C000000EP3SUAW","productChildItemDefinition":{"attributes":{"type":"vlocity_cmt__ProductChildItem__c","url":"/services/data/v43.0/sobjects/vlocity_cmt__ProductChildItem__c/a2T6C000000EP3SUAW"},"Id":"a2T6C000000EP3SUAW","Name":"Root PCI","vlocity_cmt__IsVirtualItem__c":false,"vlocity_cmt__Quantity__c":1,"vlocity_cmt__MaxQuantity__c":99999,"vlocity_cmt__MinQuantity__c":0,"vlocity_cmt__MaximumChildItemQuantity__c":99999,"vlocity_cmt__MinimumChildItemQuantity__c":0,"vlocity_cmt__IsOverride__c":false,"vlocity_cmt__ParentProductId__c":"01t6C000000Zu7jQAC","vlocity_cmt__ChildLineNumber__c":"1","vlocity_cmt__SeqNumber__c":1,"vlocity_cmt__CollapseHierarchy__c":false,"vlocity_cmt__IsRootProductChildItem__c":true,"vlocity_cmt__ParentProductId__r":{"attributes":{"type":"Product2","url":"/services/data/v43.0/sobjects/Product2/01t6C000000Zu7jQAC"},"Id":"01t6C000000Zu7jQAC","Name":"Cambio de Ciclo de Facturación"}},"productHierarchyPath":"01t6C000000Zu7jQAC","name":"Cambio de Ciclo de Facturación","isVirtualItem":false,"attributeValues":{},"hasChildren":false,"itemType":"childProduct","category":"Qualified","productCategories":{"totalSize":0,"messages":[]}}]}';
        vlocity_cmt.JSONResult asdf = (vlocity_cmt.JSONResult) JSON.deserialize(jsonTest, vlocity_cmt.JSONResult.class);
        Map<String,Object> mapa = new Map<String,Object>();
        mapa.put(vlocity_cmt.JSONResult.JSON_KEY_RESULT, asdf);
        return mapa;
    }
}